[{"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\index.js":"1","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\App.js":"2","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\serviceWorker.js":"3","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Home.js":"4","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Products.js":"5","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\login.component.js":"6","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\register.component.js":"7","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Navbar.jsx":"8","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\HeroSection.js":"9","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Footer.js":"10","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\services\\auth.service.js":"11","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Button.js":"12","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\CardItem.js":"13","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\protected.route.jsx":"14","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Profile.js":"15","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Product\\Product.jsx":"16","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\product.form.jsx":"17","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Statistics.js":"18","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\ProductDetails.jsx":"19"},{"size":523,"mtime":1605560048659,"results":"20","hashOfConfig":"21"},{"size":1617,"mtime":1611178376859,"results":"22","hashOfConfig":"21"},{"size":5227,"mtime":1605560048661,"results":"23","hashOfConfig":"21"},{"size":313,"mtime":1611293175873,"results":"24","hashOfConfig":"21"},{"size":3855,"mtime":1611309387764,"results":"25","hashOfConfig":"21"},{"size":4282,"mtime":1610378893489,"results":"26","hashOfConfig":"21"},{"size":5687,"mtime":1609514451126,"results":"27","hashOfConfig":"21"},{"size":3006,"mtime":1611071997186,"results":"28","hashOfConfig":"21"},{"size":613,"mtime":1605560048654,"results":"29","hashOfConfig":"21"},{"size":2175,"mtime":1611308246480,"results":"30","hashOfConfig":"21"},{"size":911,"mtime":1609522112065,"results":"31","hashOfConfig":"21"},{"size":745,"mtime":1611308247050,"results":"32","hashOfConfig":"21"},{"size":670,"mtime":1605560048649,"results":"33","hashOfConfig":"21"},{"size":877,"mtime":1610827428595,"results":"34","hashOfConfig":"21"},{"size":2254,"mtime":1611311053192,"results":"35","hashOfConfig":"21"},{"size":1336,"mtime":1611310788103,"results":"36","hashOfConfig":"21"},{"size":4832,"mtime":1611001061479,"results":"37","hashOfConfig":"21"},{"size":1160,"mtime":1611286479739,"results":"38","hashOfConfig":"21"},{"size":8770,"mtime":1611310167187,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"190an17",{"filePath":"43","messages":"44","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"42"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"42"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"80","usedDeprecatedRules":"42"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"42"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"42"},"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\index.js",[],["89","90"],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\App.js",["91","92","93"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./Components/Navbar\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport Home from \"./Components/pages/Home.js\";\r\nimport Products from \"./Components/pages/Products\";\r\nimport Register from \"./Components/auth/register.component\";\r\nimport Login from \"./Components/auth/login.component\";\r\nimport Profile from \"./Components/pages/Profile\";\r\nimport ProtectedRoute from \"./Components/auth/protected.route\";\r\nimport ProductForm from \"./Components/product.form\";\r\nimport Statistics from \"./Components/pages/Statistics\";\r\nimport ProductDetails from \"./Components/pages/ProductDetails\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/statistics\" component={Statistics} />\r\n          <Route path=\"/products\" component={Products} />\r\n          <Route path=\"/sign-up\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <ProtectedRoute path=\"/profile\" component={Profile} />\r\n          <ProtectedRoute path=\"/new-product\" component={ProductForm} />\r\n          <Route\r\n            path=\"/details\"\r\n            render={(props) => <ProductDetails {...props} />}\r\n          />\r\n          {/* <ProtectedRoute path=\"/details\" component={ProductDetails} /> */}\r\n          <Route path=\"*\" component={() => \"404 NOT FOUND\"} />\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\serviceWorker.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Home.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Products.js",["94","95"],"import axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { React } from \"react\";\r\nimport \"../../App.css\";\r\nimport Product from \"../Product/Product\";\r\nimport Navbar from \"../Navbar\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nclass Products extends Component {\r\n  state = {\r\n    products: [],\r\n    loading: true,\r\n    disctinctGenres: [],\r\n    filteredProducts: [],\r\n  };\r\n\r\n  async getFilteredProducts() {\r\n    Axios.get(\r\n      \"http://localhost:8080/products/getByGenre?genre=\" +\r\n        document.getElementById(\"dropdown\").value\r\n    ).then((res) => this.setState({ products: res.data }));\r\n  }\r\n  handleFilterChange = () => {\r\n    this.getFilteredProducts();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleSearch();\r\n  }\r\n  getData(res) {\r\n    if (this.state.disctinctGenres.length === 0) {\r\n      // 1time\r\n      var flags = [],\r\n        output = [],\r\n        l = res.length,\r\n        i;\r\n      for (i = 0; i < l; i++) {\r\n        if (flags[res[i].genre]) continue;\r\n        flags[res[i].genre] = true;\r\n        output.push(res[i].genre);\r\n      }\r\n    } else {\r\n      var output = this.state.disctinctGenres;\r\n    }\r\n    this.setState({ products: res, loading: false, disctinctGenres: output });\r\n    console.log(res);\r\n  }\r\n  async getAllProducts() {\r\n    await axios\r\n      .get(\"http://localhost:8080/products/all\")\r\n      .then((resp) => this.getData(resp.data));\r\n  }\r\n\r\n  async getProduct(value) {\r\n    await axios\r\n      .get(\"http://localhost:8080/products/get?name=\" + value)\r\n      .then((resp) => this.getData([resp.data]));\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ products: [], loading: true });\r\n    const searchedName = document.getElementById(\"searchbox\").value;\r\n    if (!searchedName) {\r\n      this.getAllProducts();\r\n    } else {\r\n      const newProducts = [];\r\n      newProducts.push(this.getProduct(searchedName));\r\n      this.setState({ products: newProducts });\r\n      console.log(newProducts);\r\n    }\r\n  };\r\n  handleAdd = () => {\r\n    this.history.pushState(null, \"/new-product\");\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <Navbar />\r\n        <h1 className=\"products\">Products</h1>\r\n        <div>\r\n          <div className=\"input-elements\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"btn btn-dark\"\r\n              placeholder=\"Search..\"\r\n              id=\"searchbox\"\r\n            />\r\n            &nbsp;&nbsp;\r\n            <input\r\n              type=\"button\"\r\n              value=\"search\"\r\n              onClick={this.handleSearch}\r\n              className=\"btn btn-dark\"\r\n            />\r\n            &nbsp;&nbsp;\r\n            <Link to=\"/new-product\" value=\"Add Product\">\r\n              <button className=\"btn btn-dark\">Add product</button>\r\n            </Link>\r\n            &nbsp;&nbsp;\r\n            {!this.state.disctinctGenres ? (\r\n              <></>\r\n            ) : (\r\n              <select\r\n                id=\"dropdown\"\r\n                className=\"btn btn-dark\"\r\n                onChange={this.handleFilterChange}\r\n              >\r\n                <option disabled selected>\r\n                  Filter by genre..\r\n                </option>\r\n                {this.state.disctinctGenres.map((genre, i) => (\r\n                  <option value={genre} key={i}>\r\n                    {genre}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          </div>\r\n          <div className=\"all-product-container\">\r\n            {this.state.loading ? (\r\n              \"Loading Page...\"\r\n            ) : (\r\n              <div>\r\n                {this.state.products.map((p, i) => {\r\n                  return <Product product={p} key={i} />;\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Products;\r\n","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\login.component.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\register.component.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Navbar.jsx",["96","97"],"import React, { useState, useEffect } from 'react';\r\nimport { Button } from './Button';\r\nimport { Link } from 'react-router-dom';\r\nimport './Navbar.css';\r\nimport authService from '../services/auth.service';\r\n\r\nfunction Navbar() {\r\n  const [click, setClick] = useState(false);\r\n  const [button, setButton] = useState(true);\r\n\r\n  const handleClick = () => setClick(!click);\r\n  const closeMobileMenu = () => setClick(false);\r\n\r\n  const showButton = () => {\r\n    if (window.innerWidth <= 960) {\r\n      setButton(false);\r\n    } else {\r\n      setButton(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    showButton();\r\n  }, []);\r\n\r\n  window.addEventListener('resize', showButton);\r\n\r\n  return (\r\n    <>\r\n      <nav className='navbar'>\r\n        <div className='navbar-container'>\r\n          <Link to='/' className='navbar-logo' onClick={closeMobileMenu}>\r\n            Webshop\r\n            <i className='fab fa-typo3' />\r\n          </Link>\r\n          <div className='menu-icon' onClick={handleClick}>\r\n            <i className={click ? 'fas fa-times' : 'fas fa-bars'} />\r\n          </div>\r\n          <ul className={click ? 'nav-menu active' : 'nav-menu'}>\r\n          {authService.getCurrentUser() ?\r\n            <li className='nav-item-mobile'>\r\n              <Link\r\n                to='/profile'\r\n                className='nav-links'\r\n                onClick={closeMobileMenu}\r\n              >\r\n                My Profile\r\n              </Link>\r\n            </li>\r\n            :\r\n            <li className='nav-item-mobile'>\r\n              <Link\r\n                to='/login'\r\n                className='nav-links'\r\n                onClick={closeMobileMenu}\r\n              >\r\n                Log in\r\n              </Link>\r\n            </li>\r\n        }\r\n          \r\n            {/* <li className='nav-item'>\r\n              <Link to='/' className='nav-links' onClick={closeMobileMenu}>\r\n                Home\r\n              </Link>\r\n            </li> */}\r\n            <li className='nav-item'>\r\n              <Link\r\n                to='/statistics'\r\n                className='nav-links'\r\n                onClick={closeMobileMenu}\r\n              >\r\n                Statistics\r\n              </Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n              <Link\r\n                to='/products'\r\n                className='nav-links'\r\n                onClick={closeMobileMenu}\r\n              >\r\n                Products\r\n              </Link>\r\n            </li>\r\n            {authService.getCurrentUser() ?\r\n            <li className='nav-item'>\r\n              <Link\r\n                to='/products'\r\n                className='nav-links'\r\n                onClick={authService.logout}\r\n              >\r\n                Logout\r\n              </Link>\r\n            </li> : null\r\n            }\r\n            \r\n            \r\n          </ul>\r\n          \r\n          {/* {button && <Button buttonStyle='btn--outline'>SIGN UP</Button>} */}\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\HeroSection.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Footer.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\services\\auth.service.js",["98"],"import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:8080/api/auth/\";\r\n\r\nclass AuthService {\r\n  login(username, password) {\r\n    return axios\r\n      .post(API_URL + \"signin\", {\r\n        username,\r\n        password,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.accessToken) {\r\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n        }\r\n        console.log(this.getCurrentUser());\r\n        return response.data;\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"user\");\r\n    console.log(\"logout\");\r\n  }\r\n\r\n  register(username, email, password) {\r\n    console.log(\"signup\");\r\n    return axios.post(API_URL + \"signup\", {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n  }\r\n\r\n  getCurrentUser() {\r\n    return JSON.parse(localStorage.getItem(\"user\"));\r\n  }\r\n}\r\n\r\nlet a = new AuthService();\r\nexport default a;\r\n","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Button.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\CardItem.js",["99"],"import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction CardItem(props) {\r\n  return (\r\n    <>\r\n      <li className='cards__item'>\r\n        <Link className='cards__item__link' to={props.path}>\r\n          <figure className='cards__item__pic-wrap' data-category={props.label}>\r\n            <img\r\n              className='cards__item__img'\r\n              alt='Travel Image'\r\n              src={props.src}\r\n            />\r\n          </figure>\r\n          <div className='cards__item__info'>\r\n            <h5 className='cards__item__text'>{props.text}</h5>\r\n          </div>\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CardItem;\r\n",["100","101"],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\auth\\protected.route.jsx",["102","103","104"],"import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, NavLink, Redirect } from 'react-router-dom'\r\nimport authService from \"../../services/auth.service\"\r\n\r\nconst ProtectedRoute = ({component: Component, ...rest}) =>{\r\n    return(\r\n        <Route\r\n            {...rest}\r\n            render={props =>{\r\n                \r\n                if(authService.getCurrentUser()){\r\n                    return <Component {...props}/>\r\n                }\r\n                else {\r\n                    return <Redirect to = {\r\n                        {\r\n                            pathname: \"/\",\r\n                            state: {\r\n                                from: props.location\r\n                            }\r\n                        }\r\n\r\n                    }/>\r\n                }\r\n            }}\r\n        />\r\n    );\r\n};\r\nexport default ProtectedRoute;","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Profile.js",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\Product\\Product.jsx",["105","106","107","108"],"import React, { Component } from 'react'\r\nimport './Product.css';\r\n\r\nimport Axios from 'axios';\r\nimport {Link, Redirect }from \"react-router-dom\";\r\n\r\nclass Product extends Component{\r\n    \r\n    state = { \r\n        id: this.props.product.id,\r\n        name: this.props.product.name,\r\n        description: this.props.product.description,\r\n        genre: this.props.product.genre,\r\n        price: this.props.product.price,\r\n        url: this.props.product.url,\r\n        author: this.props.product.author\r\n    }\r\n    \r\n    \r\n    render(){\r\n        \r\n        return(\r\n            this.state.id ?  \r\n            <div className=\"product-container\">\r\n\r\n                <img src={\"http://localhost:8080\" + this.props.product.url}/>\r\n                Name: {this.props.product.name}<br/>\r\n                Genre: {this.props.product.genre}<br/>\r\n                Price: {this.props.product.price} €<br/> \r\n                \r\n\r\n                <Link to={{\r\n                    pathname: \"/details\",\r\n                    state:{... this.props.product}\r\n                }}>\r\n                    <button className=\"btn btn-dark\">Product details</button>\r\n                </Link>\r\n                \r\n            </div>\r\n            :\r\n            <div className='error-container'>Product not found</div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Product;","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\product.form.jsx",[],"C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\Statistics.js",["109"],"import Axios from \"axios\";\r\nimport React from \"react\";\r\nimport \"../../App.css\";\r\nimport Navbar from \"../Navbar\";\r\nimport axios from \"axios\";\r\n\r\nclass Statistics extends React.Component {\r\n  state = {\r\n    stats: [],\r\n  };\r\n  componentDidMount() {\r\n    Axios.get(\"http://localhost:8080/products/getStatistics\").then((res) =>\r\n      this.setState({ stats: { ...res.data } })\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Navbar />\r\n        <h1>Statistics about our products</h1>\r\n\r\n        <div className=\"statistic-card\">\r\n          <label className=\"label-title\">Total number of products</label>\r\n          <br />\r\n          {this.state.stats.totalNumberOfProducts}\r\n          <br />\r\n          <label className=\"label-title\">Average product cost (in euro)</label>\r\n          <br />\r\n          {this.state.stats.averageProductPrice}\r\n          <br />\r\n          <label className=\"label-title\">Newest product</label>\r\n          <br />\r\n          {this.state.stats.newestProduct}\r\n          {console.log(this.state.stats.newestProduct)}\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Statistics;\r\n","C:\\Users\\ivan_\\OneDrive\\Desktop\\Individual\\s3-cb04-individualporject\\React\\webshop-app\\src\\Components\\pages\\ProductDetails.jsx",["110"],"import React, { Component } from 'react';\r\nimport \"../Product/Product.css\";\r\nimport Navbar from \"../Navbar\";\r\nimport AuthService from '../../services/auth.service';\r\nimport Axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass ProductDetails extends Component {\r\n    state = { \r\n        product: this.props.location.state,\r\n        productIsOwned: false,\r\n        redirect: false,\r\n        isBeingEdited: false,\r\n        reviewBeingAdded: false,\r\n        reviews:[],\r\n        reviewsLoaded: false\r\n\r\n    }\r\n    handleCancelReview = () =>{\r\n        this.setState({reviewBeingAdded: false})\r\n    }\r\n    handleAddReview = () => {\r\n        this.setState({reviewBeingAdded: true})\r\n    }\r\n    handleSubmitReview = () => {\r\n        const username = AuthService.getCurrentUser().username;\r\n        const text = document.getElementById(\"reviewBox\").value;\r\n        let review = {author:username, productId: this.state.product.id, text: text}\r\n\r\n        Axios.put(\"http://localhost:8080/reviews/update\", review)\r\n            .then((res)=> console.log(res))\r\n            .then(this.setState({reviewBeingAdded:false}))\r\n            \r\n    }\r\n    async updateComponent (){\r\n       await Axios.get(\"http://localhost:8080/reviews/get?productId=\" + this.state.product.id)\r\n            .then(res => {this.setState({reviews: res.data, reviewsLoaded: true})})\r\n    }\r\n    handleDelete = () => {\r\n        Axios.delete(\"http://localhost:8080/products/delete?id=\" + this.state.product.id)\r\n            .then(() => this.setState({redirect:true}));\r\n    }\r\n    handlePurchase = () => {\r\n        console.log(\"purchased\");\r\n        let review = {\r\n            author: AuthService.getCurrentUser().username,\r\n            productId: this.state.product.id\r\n        }\r\n        Axios.post(\"http://localhost:8080/reviews/buyProduct\", review).then(this.setState({productIsOwned: true}));         \r\n            \r\n    };\r\n    /*productOwned = () =>{\r\n        (Axios.get(\"localhost:8080/reviews/owned?productId=\" + this.state.product.id + \"&authorName=\" + AuthService.getCurrentUser().username)\r\n        .then(res => {this.state.setState({productIsOwned: res})}))\r\n    }*/\r\n    componentDidMount(){\r\n        \r\n        Axios.get(\"http://localhost:8080/reviews/owned?productId=\" + this.state.product.id + \"&authorName=\" + AuthService.getCurrentUser().username)\r\n            .then(res => {this.setState({productIsOwned: res.data})});\r\n        Axios.get(\"http://localhost:8080/reviews/get?productId=\" + this.state.product.id)\r\n            .then(res => {this.setState({reviews: res.data, reviewsLoaded: true})})\r\n            //.then(console.log(this.state.reviews))\r\n        //\r\n        // this.productOwned();\r\n    }\r\n    handleUpdateDescription = () => {\r\n        this.setState({isBeingEdited: true})\r\n    }\r\n    handleFinishEditing = () => {\r\n        let prod = this.state.product;\r\n        prod.description = document.getElementById(\"updateBox\").value;\r\n\r\n        Axios.put(\"http://localhost:8080/products/update\", prod)\r\n            .then(() => this.setState({isBeingEdited: false}))\r\n    }\r\n    handleCancel = () =>{\r\n        this.setState({isBeingEdited: false, reviewBeingAdded: false})\r\n    }\r\n    render() { \r\n        return (  \r\n            <>\r\n            {this.state.redirect ? <Redirect to=\"/products\"/> : <></>} \r\n            \r\n            <Navbar/>\r\n            <div className=\"product-details-container\">\r\n                <div className=\"image-container\">\r\n                    <img src={\"http://localhost:8080\" + this.state.product.url} alt=\"image loading...\"/> <br/>\r\n                    <label className=\"product-title-label\">{this.state.product.name}</label>\r\n                </div>\r\n                \r\n                <br/>\r\n                <label className=\"label-title\">About the game </label><br/>\r\n                <label className=\"label-title2\">Genre:&nbsp;</label>{this.state.product.genre}\r\n\r\n                <div>{this.state.product.description}</div>\r\n                <label className=\"label-title\">Creator of the game:&nbsp;</label>\r\n                \r\n                {this.state.product.author}\r\n                <br/>\r\n                <label className=\"label-title\">Price:&nbsp;</label>{this.state.product.price} €\r\n                <br/>\r\n                {AuthService.getCurrentUser() ? // user is logged\r\n                    (AuthService.getCurrentUser().username === this.state.product.author ? // user is the author \r\n                        (this.state.isBeingEdited ? // edit mode\r\n                            <>\r\n                                <label>Write new description here</label><br/>\r\n                                <textarea type=\"text\" className=\"new-description\" id=\"updateBox\"/><br/>\r\n                                <input type=\"button\" value=\"Set new description\" className=\"btn btn-dark\" onClick={this.handleFinishEditing}/>\r\n                                <input type=\"button\" value=\"Cancel\"  className=\"btn btn-dark\" onClick={this.handleCancel}/>\r\n                            </> \r\n                            :     \r\n                            <>                                              \r\n                                <input type=\"button\" className=\"btn btn-dark\" value=\"Delete\" onClick={this.handleDelete}/> \r\n                                <input type=\"button\" className=\"btn btn-dark\" value=\"Update\" onClick={this.handleUpdateDescription}/>  \r\n                            </>\r\n                            \r\n                            \r\n                        )\r\n                        \r\n                        :   // user is not the author\r\n                            (!this.state.productIsOwned ? //user doesnt own that product\r\n                                <>  \r\n                                    <br/>\r\n                                    <input type=\"button\" className=\"btn btn-dark\" value=\"Buy now\" onClick={this.handlePurchase}/> <br/>\r\n                                    {AuthService.getCurrentUser().roles[0] === \"ROLE_ADMIN\" ? \r\n                                        <>\r\n                                            <label className=\"label-title\">As an admin you can delete this product</label><br/>\r\n                                            <input type=\"button\" className=\"btn btn-dark\" value=\"Delete\" onClick={this.handleDelete}/>\r\n                                        </>\r\n                                     : \r\n                                     <>\r\n                                     </>}\r\n                                </>\r\n                                :   // user owns that product\r\n                               (!this.state.reviewBeingAdded ?\r\n                                    <>\r\n                                        <label type=\"text\" className=\"product-owned-label\">You already own that product</label><br/>\r\n                                        <input type=\"button\" className=\"btn btn-dark\" value=\"Add a review\" onClick={this.handleAddReview}/>\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <label>Write new description here</label><br/>\r\n                                        <textarea type=\"text\" className=\"new-description\" id=\"reviewBox\"/><br/>\r\n                                        <input type=\"button\" value=\"Submit review\" className=\"btn btn-dark\" onClick={this.handleSubmitReview}/>\r\n                                        <input type=\"button\" value=\"Cancel\" className=\"btn btn-dark\" onClick={this.handleCancelReview}/>\r\n                                    </>\r\n                               )\r\n                                \r\n                            )\r\n                        \r\n                    ) : (\r\n                        <p>You need to login to buy this product</p> // user is not logged in\r\n                    )\r\n                }<br></br>\r\n                <label className=\"label-title\">See what other users think about this product</label><br/>\r\n            <div>\r\n                {this.state.reviewsLoaded ?\r\n                <>\r\n                    {this.state.reviews.map((r, i) =>\r\n                        <>\r\n                            \r\n                            <div className=\"review-field\" key={i}>\r\n                                <label className=\"label-title\">{r.author}</label><br/>\r\n                                {r.text}\r\n                               \r\n                            </div>\r\n                            <br/>\r\n                        </>\r\n                    )}\r\n                </>\r\n                :\r\n                <></>\r\n                }\r\n            </div>\r\n            </div>\r\n            \r\n            </> \r\n        );\r\n    }\r\n}\r\n \r\nexport default ProductDetails;",{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":1,"column":17,"nodeType":"117","messageId":"118","endLine":1,"endColumn":25},{"ruleId":"115","severity":1,"message":"119","line":1,"column":27,"nodeType":"117","messageId":"118","endLine":1,"endColumn":36},{"ruleId":"115","severity":1,"message":"120","line":3,"column":8,"nodeType":"117","messageId":"118","endLine":3,"endColumn":14},{"ruleId":"115","severity":1,"message":"121","line":7,"column":16,"nodeType":"117","messageId":"118","endLine":7,"endColumn":24},{"ruleId":"122","severity":1,"message":"123","line":43,"column":11,"nodeType":"117","messageId":"124","endLine":43,"endColumn":17},{"ruleId":"115","severity":1,"message":"125","line":2,"column":10,"nodeType":"117","messageId":"118","endLine":2,"endColumn":16},{"ruleId":"115","severity":1,"message":"126","line":9,"column":10,"nodeType":"117","messageId":"118","endLine":9,"endColumn":16},{"ruleId":"115","severity":1,"message":"127","line":1,"column":8,"nodeType":"117","messageId":"118","endLine":1,"endColumn":13},{"ruleId":"128","severity":1,"message":"129","line":10,"column":13,"nodeType":"130","endLine":14,"endColumn":15},{"ruleId":"111","replacedBy":"131"},{"ruleId":"113","replacedBy":"132"},{"ruleId":"115","severity":1,"message":"133","line":1,"column":17,"nodeType":"117","messageId":"118","endLine":1,"endColumn":26},{"ruleId":"115","severity":1,"message":"134","line":2,"column":27,"nodeType":"117","messageId":"118","endLine":2,"endColumn":33},{"ruleId":"115","severity":1,"message":"135","line":2,"column":42,"nodeType":"117","messageId":"118","endLine":2,"endColumn":49},{"ruleId":"115","severity":1,"message":"136","line":4,"column":8,"nodeType":"117","messageId":"118","endLine":4,"endColumn":13},{"ruleId":"115","severity":1,"message":"121","line":5,"column":15,"nodeType":"117","messageId":"118","endLine":5,"endColumn":23},{"ruleId":"137","severity":1,"message":"138","line":26,"column":17,"nodeType":"130","endLine":26,"endColumn":78},{"ruleId":"139","severity":1,"message":"140","line":34,"column":31,"nodeType":"141","messageId":"142","endLine":34,"endColumn":32,"fix":"143"},{"ruleId":"115","severity":1,"message":"144","line":5,"column":8,"nodeType":"117","messageId":"118","endLine":5,"endColumn":13},{"ruleId":"128","severity":1,"message":"129","line":87,"column":21,"nodeType":"130","endLine":87,"endColumn":105},"no-native-reassign",["145"],"no-negated-in-lhs",["146"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'Navbar' is defined but never used.","'Redirect' is defined but never used.","no-redeclare","'output' is already defined.","redeclared","'Button' is defined but never used.","'button' is assigned a value but never used.","'React' is defined but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement",["145"],["146"],"'Component' is defined but never used.","'Router' is defined but never used.","'NavLink' is defined but never used.","'Axios' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","rest-spread-spacing","Unexpected whitespace after spread property operator.","ExperimentalSpreadProperty","unexpectedWhitespace",{"range":"147","text":"148"},"'axios' is defined but never used.","no-global-assign","no-unsafe-negation",[1013,1014],""]